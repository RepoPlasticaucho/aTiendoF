<div class="dialogo" style="max-width: 95%; margin: auto">
    <div class="dialog-content">
        <div class="btn-cerrar">
            <fa-icon [icon]="faTimes" class="btn btn-danger" [size]="'lg'" data-toggle="tooltip" data-placement="bottom" (click)="cerrarDialog()"
                title="Regresar a pedidos">
            </fa-icon>
        </div>
        <fa-icon [icon]="faPlus" [size]="'3x'" style="color: #636363;"></fa-icon>
        <h1 class="mx-5 " style="color: #636363;">Nuevo Producto</h1>
    </div>
    <br>
    <form [formGroup]="modelProductForm" (ngSubmit)="onSubmit()">

        <div class="form-group">
            <label for="proveedor">Proveedores</label>
            <select class="form-control" [disabled]="true">
                <option [value]=" 0 " selected>{{proveedor}}</option>
            </select>
            <small *ngIf="selectProveedor">
                <small *ngIf="selectProveedor" style="color: red; ">
                    Debe seleccionar un proveedor.
                </small>
            </small>
        </div>

        <div class="form-group">
            <label for="categoria">Categoria:</label>
            <ng-autocomplete [data]="lstCategorias" (selected)='selectEventCategoria($event)'
                [searchKeyword]="keywordCategoria" placeholder="Seleccione la categoria"
                [itemTemplate]="itemTemplateCategoria" [notFoundTemplate]="notFoundTemplateCategoria"
                class="form-control" style="width: 100%;padding: 0%;"
                (inputChanged)='onChangeSearchCategoria($event)' (inputCleared)="onInputClearedCategoria()">
            </ng-autocomplete>
            <ng-template #itemTemplateCategoria let-item>
                <a [innerHTML]="item.categoria"></a>
            </ng-template>
            <ng-template #notFoundTemplateCategoria let-notFound>
                <p>No se encontro datos</p>
            </ng-template>
            <small *ngIf="selectCategoria">
                <small *ngIf="selectCategoria " style="color: red; ">
                    Debe seleccionar una categoria.
                </small>
            </small>
        </div>

        <div class="form-group">
            <label for="linea">Tipo:</label>
            <ng-autocomplete [data]="lstLineas" (selected)='selectEventLinea($event)'
                [searchKeyword]="keywordLinea" placeholder="Seleccione la linea"
                [itemTemplate]="itemTemplateLinea" [notFoundTemplate]="notFoundTemplateLinea"
                class="form-control" style="width: 100%;padding: 0%;"
                (inputChanged)='onChangeSearchLinea($event)' (inputCleared)="onInputClearedLinea()">
            </ng-autocomplete>
            <ng-template #itemTemplateLinea let-item>
                <a [innerHTML]="item.linea"></a>
            </ng-template>
            <ng-template #notFoundTemplateLinea let-notFound>
                <p>No se encontro datos</p>
            </ng-template>
            <small *ngIf="selectLinea">
                <small *ngIf="selectLinea" style="color: red; ">
                    Debe seleccionar una linea.
                </small>
            </small>
        </div>
        

        <div class="form-group">
            <label for="linea">Marcas:</label>
            <ng-autocomplete [data]="lstMarcas" (selected)='selectEventMarca($event)'
                [searchKeyword]="keywordMarca" placeholder="Seleccione la marca"
                [itemTemplate]="itemTemplateMarca" [notFoundTemplate]="notFoundTemplateMarca"
                class="form-control" style="width: 100%;padding: 0%;"
                (inputChanged)='onChangeSearchMarca($event)' (inputCleared)="onInputClearedMarca()">
            </ng-autocomplete>
            <ng-template #itemTemplateMarca let-item>
                <a [innerHTML]="item.marca"></a>
            </ng-template>
            <ng-template #notFoundTemplateMarca let-notFound>
                <p>No se encontro datos</p>
            </ng-template>
            <small *ngIf="selectMarca">
                <small *ngIf="selectMarca" style="color: red; ">
                    Debe seleccionar una marca.
                </small>
            </small>
        </div>
        

        <div class="form-group">
            <label for="linea">Modelos:</label>
            <ng-autocomplete [data]="lstModelos" (selected)='selectEventModelo($event)'
                [searchKeyword]="keywordModelo" placeholder="Seleccione el modelo"
                [itemTemplate]="itemTemplateModelo" [notFoundTemplate]="notFoundTemplateModelo"
                class="form-control" style="width: 100%;padding: 0%;"
                (inputChanged)='onChangeSearchModelo($event)' (inputCleared)="onInputClearedModelo()">
            </ng-autocomplete>
            <ng-template #itemTemplateModelo let-item>
                <a [innerHTML]="item.modelo"></a>
            </ng-template>
            <ng-template #notFoundTemplateModelo let-notFound>
                <p>No se encontro datos</p>
            </ng-template>
            <small *ngIf="selectModelo">
                <small *ngIf="selectModelo" style="color: red; ">
                    Debe seleccionar un modelo.
                </small>
            </small>
        </div>
        

        <div class="form-group">
            <label for="modeloproducto_id">Modelo Producto:</label>
            <ng-autocomplete [data]="lstModeloProductos" (selected)='selectEventModel($event)'
                [searchKeyword]="keywordModelProduct" placeholder="Seleccione el Modelo Producto"
                [itemTemplate]="itemTemplateModel" [notFoundTemplate]="notFoundTemplateModel"
                class="form-control" style="width: 100%;padding: 0%;"
                (inputChanged)='onChangeSearchModel($event)' (inputCleared)="onInputClearedModel()">
            </ng-autocomplete>
            <ng-template #itemTemplateModel let-item>
                <a [innerHTML]="item.modelo_producto"></a>
            </ng-template>
            <ng-template #notFoundTemplateModel let-notFound>
                <p>No se encontro datos</p>
            </ng-template>
            <small *ngIf="selectModeloProducto">
                <small *ngIf="selectModeloProducto " style="color: red; ">
                    Debe seleccionar un Modelo.
                </small>
            </small>
        </div>

       
        <div class="form-group ">
            <label for="tamanio" style="margin: 0;">Tamaño o Talla</label>
            <input type="text " [(ngModel)]="tamanio" class="form-control " (input)="tamanioInp()" id="tamanio" placeholder="Ingrese el tamaño del Producto."
                formControlName="tamanio">
            <small
                *ngIf="modelProductForm.controls['tamanio'].invalid && (modelProductForm.controls['tamanio'].dirty || modelProductForm.controls['tamanio'].touched)">
                <small *ngIf="modelProductForm.controls['tamanio'].errors?.['required']" style="color: red;">
                    Debe ingresar el tamaño del producto.
                </small>
            </small>
        </div>

        <div class="form-group ">
            <label for="producto" style="margin: 0;">Nombre del Producto</label>
            <input [(ngModel)]="selectedModeloProducto" type="text " class="form-control " id="producto"
                placeholder="Ingrese la descripción del Producto." formControlName="producto">
            <small
                *ngIf="modelProductForm.controls['producto'].invalid && (modelProductForm.controls['producto'].dirty || modelProductForm.controls['producto'].touched)">
                <small *ngIf="modelProductForm.controls['producto'].errors?.['required']" style="color: red;">
                    Debe ingresar la descripción del producto
                </small>
            </small>
        </div>

        <div class="form-group">
            <label for="producto" style="margin: 0;">Etiquetas</label>
            <input type="text" [(ngModel)]="selectedModeloProducto2" class="form-control" id="etiquetas"
                   placeholder="Ingrese las etiquetas del Producto." formControlName="etiquetas" readonly>
            <small *ngIf="modelProductForm.controls['etiquetas'].invalid && 
                          (modelProductForm.controls['etiquetas'].dirty || modelProductForm.controls['etiquetas'].touched)">
                <small *ngIf="modelProductForm.controls['etiquetas'].errors?.['required']" style="color: red;">
                    Debe ingresar la descripción del producto
                </small>
            </small>
        </div>
        

    


        <div class="form-group ">
            <label for="medida" style="margin: 0;">Unidad de Medida</label>
            <select class="form-control" id="medida" formControlName="medida">
                <option [value]=" 0 " selected>Seleccione una unidad de medida</option>
                <option>par</option>
                <option>ml.</option>
                <option>l.</option>
                <option>cm.</option>
                <option>plg.</option>
                <option>kg.</option>
                <option>g.</option>
            </select>
            <small
                *ngIf="modelProductForm.controls['medida'].invalid && (modelProductForm.controls['medida'].dirty || modelProductForm.controls['medida'].touched)">
                <small *ngIf="modelProductForm.controls['medida'].errors?.['required']" style="color: red;">
                    Debe ingresar la unidad de medida.
                </small>
            </small>
        </div>
        <div class="form-group ">
            <label for="precio" style="margin: 0;">Precio unitario</label>
            <input type="text " class="form-control " id="precio"
                placeholder="Ingrese el precio del Producto." formControlName="precio">
            <small
                *ngIf="modelProductForm.controls['precio'].invalid && (modelProductForm.controls['precio'].dirty || modelProductForm.controls['precio'].touched)">
                <small *ngIf="modelProductForm.controls['precio'].errors?.['required']" style="color: red;">
                    Debe ingresar el precio del Producto.
                </small>
            </small>
        </div>
        <div class="form-group ">
            <label for="costo" style="margin: 0;">Costo</label>
            <input type="text " class="form-control " id="costo"
                placeholder="Ingrese el costo del Producto." formControlName="costo">
            <small
                *ngIf="modelProductForm.controls['costo'].invalid && (modelProductForm.controls['costo'].dirty || modelProductForm.controls['costo'].touched)">
                <small *ngIf="modelProductForm.controls['costo'].errors?.['required']" style="color: red;">
                    Debe ingresar el costo del Producto.
                </small>
            </small>
        </div>
        <div class="form-group">
            <label for="tarifa" style="margin: 0;">Tarifa</label>
            <select class="form-control" formControlName="tarifa" (change)="changeGroup4($event)">
                <option [value]=" 0 " selected>Seleccione una tarifa</option>
                <option *ngFor="let tarifa of lstTarifas" [value]="tarifa.descripcion">
                    {{tarifa.descripcion}}
                </option>
            </select>
            <small *ngIf="selectTarifa">
                <small *ngIf="selectTarifa" style="color: red; ">
                    Debe seleccionar una tarifa.
                </small>
            </small>
        </div>
        <div class="form-group">
            <label for="tarifaICE" style="margin: 0;">Tarifa ICE</label>
            <select class="form-control" formControlName="tarifaICE" (change)="changeGroup5($event)">
                <option [value]=" 0 " selected>Seleccione una tarifa ICE</option>
                <option *ngFor="let tarifa of lstTarifasICE" [value]="tarifa.descripcion">
                    {{tarifa.descripcion}}
                </option>
            </select>
            <small *ngIf="selectTarifa">
                <small *ngIf="selectTarifa" style="color: red; ">
                    Debe seleccionar una tarifa ICE.
                </small>
            </small>
        </div>


        <div class="form-group ">
            <label for="cod_sap" style="margin: 0;">Codigo</label>
            <input type="text " class="form-control " id="cod_sap"
                placeholder="Ingrese el costo del Producto." formControlName="cod_sap">
            <small
                *ngIf="modelProductForm.controls['cod_sap'].invalid && (modelProductForm.controls['cod_sap'].dirty || modelProductForm.controls['cod_sap'].touched)">
                <small *ngIf="modelProductForm.controls['cod_sap'].errors?.['required']" style="color: red;">
                    Debe ingresar el codigo del Producto.
                </small>
            </small>
        </div>
        <button type="submit" class="btn btn-primary">
            <fa-icon [icon]="faSave" [size]="'sm'"></fa-icon>
            Guardar
        </button>
    </form>
</div>